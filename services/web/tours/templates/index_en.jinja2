{% extends 'layout.jinja2' %}

{% block styles %}
h1 {
	color: #2bf82b;	
	font-family: 'Permanent Marker', cursive;
	letter-spacing: 15px;
	text-shadow: 5px 5px;	
	font-size: 5rem;
}
{% endblock %}

{% block header %}
    {{ header }}
{% endblock %}

{% block language %}
	<div class="w3-dropdown-click w3-right">
	    {% if session['lang'] == 'it' %}
		    <button  id="dd_btn" class="w3-button w3-theme w3-hover-theme w3-ripple" data-cur-lang="it">ITA <i id="dd_caret" class="fa-solid fa-caret-down"></i></button>
		{% elif session['lang'] == 'en' %}
		    <button  id="dd_btn" class="w3-button w3-theme w3-hover-theme w3-ripple" data-cur-lang="en">ENG <i id="dd_caret" class="fa-solid fa-caret-down"></i></button>
		{% endif %}
		<div id="dd_menu" class="w3-dropdown-content w3-bar-block w3-border w3-border-theme">
		    <button class="w3-bar-item w3-button w3-theme-l2 w3-hover-theme" data-lang="it">ITA</button>
		    <button class="w3-bar-item w3-button w3-theme-l2 w3-hover-theme" data-lang="en">ENG</button>
		</div>
    </div>
{% endblock %}

{% block content %}
<div style="margin-top: 60px">
    <div class="w3-content w3-display-container" style="max-width: 800px">
        <div class="w3-display-container mySlides" >
		    <img src="{{ url_for('static', filename='images/santiago.jpg') }}" alt="cattedrale di Santiago de Compostela" style="width: 100%">
		    <div class="w3-display-bottomright w3-container w3-padding-16 w3-black">
                Santiago de Compostela
            </div>
        </div>

        <div class="w3-display-container mySlides">
		    <img src="{{ url_for('static', filename='images/berlin.jpg') }}" alt="Berlino" style="width: 100%">
            <div class="w3-display-bottomright w3-container w3-padding-16 w3-black">
                Berlin
            </div>
        </div>

        <button class="w3-button w3-display-left w3-black" onclick="plusDivs(-1)">&#10094;</button>
        <button class="w3-button w3-display-right w3-black" onclick="plusDivs(1)">&#10095;</button>

    </div>
    <div class="w3-content" style="margin-top: 60px; max-width: 500px">
    <form method="POST">
    {{ form.csrf_token }}
    <p class="w3-center">
        {{ form.trip(class="w3-theme-l4", style="width: 50%") }}
    </p>

    <p class="w3-center">
        {{ form.submit(class="w3-button w3-margin-top w3-theme-action w3-hover-theme-d2 w3-ripple", style="width: 80px") }}
    </p>

    </form>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script>
const session = {{ session|tojson }};
const LANG_ROOT = {{ url_for("set_language", lang='')|tojson }}

let slideIndex = 1;

showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function showDivs(n) {
  const slides = document.querySelectorAll(".mySlides");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (const slide of slides) {
     slide.style.display = "none";
  }
  slides[slideIndex-1].style.display = "block";
}
</script>
{% endblock %}
