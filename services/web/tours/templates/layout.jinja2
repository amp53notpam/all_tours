<!doctype html>
<html>
<head>
<title>AMP - {% block title %}{% endblock %}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="{{ url_for('static', filename='css/w3-styles.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/my-styles.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/my-theme.css') }}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
<style>
{% block styles %}{% endblock %}
</style>

<script src="{{ url_for('static', filename='scripts/scripts.js') }}" defer></script>
</head>

<body class="w3-theme-l4" {% block event %}{% endblock %}>
	<nav class="w3-bar w3-theme-l2">
		{% block hamburger %}{% endblock %}
		<a href="{{ url_for('start') }}" class="w3-bar-item w3-ripple w3-button w3-hover-theme">Home</a>
		{% if 'trip' in session.keys() %}
		    <a href="{{ url_for('lap_bp.lap_dashboard') }}" class="w3-bar-item w3-button w3-ripple w3-hover-theme">Tappe</a>
		    <a href="{{ url_for('lap_bp.hotel_dashboard') }}" class="w3-bar-item w3-button w3-ripple w3-hover-theme">Alberghi</a>
		    <span class="w3-bar-item" style="opacity: 0">$$$$$</span>
		    <span class="w3-bar-item">Destinazione: {{ session['trip'] }}</span>
		{% endif %}
		{% if '_user_id' in session.keys() %}
		    <a href="{{ url_for('auth_bp.logout') }}" class="w3-bar-item w3-ripple w3-button w3-hover-theme w3-right" title="logout"><span class="material-symbols-outlined size28">logout</span></a>
		{% else %}
		    <a href="{{ url_for('auth_bp.login') }}" class="w3-bar-item w3-ripple w3-button w3-hover-theme w3-right" title="login"><span class="material-symbols-outlined size28">login</span></a>
		{% endif %}
	</nav>

<aside>
	{% block aside %}{% endblock %}
</aside>
<section class="content">
  <header class="w3-container">
    {% block header %}{% endblock %}
  </header>
  {% for message in get_flashed_messages(category_filter='error') %}
    <div class="flash w3-panel w3-pale-red w3-display-container w3-border-red w3-round-large">
		<span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-display-topright w3-hover-pale-red">&times;</span>
		<p>{{ message }}</p>	
	</div>
  {% endfor %}
  {% for message in get_flashed_messages(category_filter='info') %}
	<div class="flash w3-panel w3-pale-green w3-display-container w3-border-green w3-round-large">
		<span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-display-topright w3-hover-pale-green">&times;</span>
		<p>{{ message }}</p>	
	</div>
  {% endfor %}
  {% block content %}{% endblock %}
</section>
{% block scripts %}{% endblock %}
</body>
</html>
